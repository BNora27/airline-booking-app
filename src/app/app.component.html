<mat-sidenav-container>
  <mat-sidenav #sidenav>
    <app-menu 
      [sidenav]="sidenav" 
      [isLoggedIn]="isLoggedIn" 
      (logoutEvent)="logout()">
    </app-menu>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar color="primary" class="toolbar">
      <!-- Sidenav Toggle Button -->
      <button 
        mat-icon-button 
        (click)="onToggleSidenav(sidenav)"
        class="menu-toggle-button">
        <mat-icon>menu</mat-icon>
      </button>

      <!-- Title -->
      <span class="toolbar-title">Airline Ticket Booking</span>

      <!-- Navigation Links -->
      <span class="spacer"></span>
      <ng-container *ngIf="isLoggedIn; else loggedOut">
        
        <button mat-stroked-button routerLink="/home" routerLinkActive="active-link">Home</button>
        <button mat-button routerLink="/profile" routerLinkActive="active-link">Profile</button>
        <button mat-button (click)="logout()">Logout</button>
      </ng-container>

      <ng-template #loggedOut>
        <button mat-button routerLink="/home" routerLinkActive="active-link">Home</button>
        <button mat-button routerLink="/login" routerLinkActive="active-link">Login</button>
      </ng-template>
    </mat-toolbar>

    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
